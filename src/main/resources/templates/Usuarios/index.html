<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/_mainLayout}">

<!-- Fragmento de contenido que ser√° insertado en el layout -->
<div layout:fragment="content">

    <div class="container mt-4">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h2>Lista de Usuarios</h2>
            <a class="btn btn-primary" th:href="@{/usuarios/nuevo}">Crear nuevo usuario</a>
        </div>

        <div class="table-responsive">
            <table class="table table-bordered table-striped">
                <thead class="thead-dark">
                <tr>
                    <th>Nombre</th>
                    <th>Correo</th>
                    <th>Tel√©fono</th>
                    <th>Rol</th>
                    <th>Acciones</th> <!-- Nueva columna -->
                </tr>
                </thead>
                <tbody>
                <tr th:each="usuario : ${usuarios}">
                    <td th:text="${usuario.nombre}"></td>
                    <td th:text="${usuario.correo}"></td>
                    <td th:text="${usuario.telefono}"></td>
                    <td th:text="${usuario.role.nombrerol}"></td>
                    <td>
                        <a class="btn btn-sm btn-warning"
                           th:href="@{/usuarios/editar/{id}(id=${usuario.id})}">
                            ‚úèÔ∏è
                        </a>


                        <form th:action="@{'/usuarios/eliminar/' + ${usuario.id}}"
                              method="post"
                              style="display:inline;"
                              onsubmit="return confirm('¬øEst√°s seguro que deseas eliminar este usuario?');">
                            <button type="submit" class="btn btn-danger">üóëÔ∏è</button>
                        </form>


                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

</div>
</html>

